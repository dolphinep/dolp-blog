{"version":3,"sources":["reportWebVitals.js","context/auth.js","components/MenuBar.js","utils/graphql.js","utils/MyPopup.js","components/LikeButton.js","components/DeleteButton.js","components/EditButton.js","components/PostCard.js","utils/hooks.js","components/PostForm.js","components/AuthorCard.js","pages/Home.js","pages/Register.js","pages/Login.js","pages/Contact.js","pages/Timer.js","utils/AuthRouter.js","components/editor/QuillEditor.js","pages/SinglePost.js","App.js","ApolloProvider.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","user","localStorage","getItem","decodedToken","jwtDecode","exp","Date","now","removeItem","AuthContext","createContext","login","userData","logout","authReducer","state","action","type","payload","AuthProvider","props","useReducer","dispatch","Provider","value","setItem","token","MenuBar","useContext","pathname","window","location","path","substr","useState","activeItem","setActiveItem","handleItemClick","e","name","Menu","pointing","secondary","size","color","Item","username","active","onClick","as","Link","to","position","FETCH_POSTS_QUERY","gql","MyPopup","content","children","Popup","inverted","trigger","LIKE_POST_MUTATION","LikeButton","post","id","likeCount","likes","liked","setLiked","useEffect","find","like","useMutation","variables","postID","onError","error","console","log","likePost","likeButton","Button","Icon","basic","labelPosition","Label","DELETE_POST_MUTATION","DELETE_COMMENT_MUTATION","DeleteButton","commentID","callback","confirmOpen","setConfirmOpen","mutation","refetchQueries","query","err","deletePostOrMutation","floated","icon","style","margin","Confirm","open","onCancel","onConfirm","EditButton","PostCard","title","body","createdAt","commentCount","tags","Card","fluid","Content","Image","src","Header","Meta","map","tag","compact","moment","fromNow","Description","extra","useForm","values","setValues","onChange","event","onSubmit","preventDefault","CREATE_POST_MUTATION","PostForm","createPost","key","text","options","setOptions","onCompleted","Form","Field","Input","placeholder","TextArea","Dropdown","search","selection","multiple","allowAdditions","onAddItem","Divider","hidden","className","marginBottom","graphQLErrors","message","AuthorCard","detail","Container","textAlign","centered","Home","useQuery","loading","data","Grid","marginTop","relaxed","stackable","reversed","Column","width","Segment","Row","columns","stretched","Loader","inline","Transition","Group","getPosts","computer","mobile","REGISTER_USER","Register","context","errors","setErrors","addUser","email","password","confirmPassword","update","_","register","history","push","extensions","exception","noValidate","label","Object","keys","length","LOGIN_USER","Login","loginUser","height","verticalAlign","maxWidth","stacked","iconPosition","Message","href","Contact","List","Rating","maxRating","defaultRating","t","Timer","time","setTime","interval","setInterval","clearInterval","divided","largeScreen","getHours","getMinutes","getSeconds","AuthRoute","Component","component","rest","render","__ISMSIE__","navigator","userAgent","match","Clipboard","getMetaTagElements","stringContent","el","document","createElement","innerHTML","getElementsByTagName","clipboardData","getData","pastedData","urlMatches","forEach","link","axios","get","image","url","node","getAttribute","rendered","range","quill","getSelection","index","pasteHTML","setSelection","catch","Quill","import","BlockEmbed","ImageBlot","imgTag","setAttribute","alt","blotName","tagName","VideoBlot","videoTag","iframeTag","FileBlot","prefixTag","innerText","bTag","linkTag","appendChild","querySelector","PollBlot","QuillEditor","handleChange","html","setState","editorHtml","onEditorChange","imageHandler","inputOpenImageRef","current","click","videoHandler","inputOpenVideoRef","fileHandler","inputOpenFileRef","insertImage","a","stopPropagation","currentTarget","files","file","formData","FormData","config","header","append","response","status","alert","reactQuillRef","getEditor","focus","insertEmbed","_isMounted","onFilesChange","insertVideo","insertFile","modules","syntax","toolbar","container","handlers","insertPoll","pollHandler","formats","old","React","createRef","this","defaultValue","persist","ref","theme","accept","display","SUBMIT_COMMENT_MUTATION","FETCH_POST_QUERY","UPDATE_POST_MUTATION","SinglePost","postMarkup","params","setTitle","setBody","story","setStory","comment","setComment","editing","setEditing","setFiles","commentInputRef","useRef","blur","submitComment","submitEdit","getPost","comments","only","float","Or","parse","dividing","Comment","Avatar","Author","Metadata","Text","target","disabled","trim","App","exact","httpLink","createHttpLink","uri","errorLink","networkError","locations","authLink","setContext","headers","Authorization","client","ApolloClient","concat","cache","InMemoryCache","ReactDOM","StrictMode","ApolloProvider","getElementById"],"mappings":"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","file":"static/js/main.145ccb3c.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useReducer, createContext } from 'react'\nimport jwtDecode from 'jwt-decode'\n\nconst initialState = {\n    user: null\n}\n\nif (localStorage.getItem(\"dolp-token\")) {\n    const decodedToken = jwtDecode(localStorage.getItem(\"dolp-token\"))\n    if (decodedToken.exp * 1000 < Date.now()) {\n        localStorage.removeItem(\"dolp-token\")\n    } else {\n        initialState.user = decodedToken\n    }\n}\n\nconst AuthContext = createContext({\n    user: null,\n    login: (userData) => { },\n    logout: () => { }\n})\n\nfunction authReducer(state, action) {\n    switch (action.type) {\n        case \"LOGIN\":\n            return {\n                ...state,\n                user: action.payload\n            }\n        case \"LOGOUT\":\n            return {\n                ...state,\n                user: null\n            }\n        default:\n            return state\n    }\n}\n\nfunction AuthProvider(props) {\n    const [state, dispatch] = useReducer(authReducer, initialState)\n\n    function login(userData) {\n        localStorage.setItem(\"dolp-token\", userData.token)\n        dispatch({\n            type: 'LOGIN',\n            payload: userData\n        })\n    }\n\n    function logout() {\n        localStorage.removeItem(\"dolp-token\")\n        dispatch({\n            type: 'LOGOUT',\n        })\n    }\n    return (\n        <AuthContext.Provider\n            value={{ user: state.user, login, logout }}\n            {...props}\n        />\n    )\n}\n\nexport { AuthContext, AuthProvider }","import React, { useContext, useState } from 'react'\nimport { Menu } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\n\nimport { AuthContext } from '../context/auth'\n\nfunction MenuBar() {\n\n    const { user, logout } = useContext(AuthContext)\n    const pathname = window.location.pathname\n\n    const path = pathname === '/' ? 'home' : pathname.substr(1)\n    const [activeItem, setActiveItem] = useState(path)\n    const handleItemClick = (e, { name }) => setActiveItem(name)\n\n    const menuBar = user ? (\n        <Menu pointing secondary size=\"medium\" color=\"blue\">\n            <Menu.Item\n                name={user.username}\n                active={activeItem === user.username}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/dolp-blog\"\n            />\n            <Menu.Item\n                name='contact'\n                active={activeItem === 'contact'}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/contact\"\n            />\n            <Menu.Item\n                name='timer'\n                active={activeItem === 'timer'}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/timer\"\n            />\n            <Menu.Menu position='right'>\n                <Menu.Item\n                    name='logout'\n                    onClick={logout}\n                />\n            </Menu.Menu>\n        </Menu>\n    ) : (\n            <Menu pointing secondary size=\"medium\" color=\"blue\" >\n                <Menu.Item\n                    name='home'\n                    active={activeItem === 'home'}\n                    onClick={handleItemClick}\n                    as={Link}\n                    to=\"/dolp-blog\"\n                />\n                <Menu.Item\n                    name='contact'\n                    active={activeItem === 'contact'}\n                    onClick={handleItemClick}\n                    as={Link}\n                    to=\"/contact\"\n                />\n                <Menu.Item\n                    name='timer'\n                    active={activeItem === 'timer'}\n                    onClick={handleItemClick}\n                    as={Link}\n                    to=\"/timer\"\n                />\n                <Menu.Menu position='right'>\n                    <Menu.Item\n                        name='login'\n                        active={activeItem === 'login'}\n                        onClick={handleItemClick}\n                        as={Link}\n                        to=\"/login\"\n                    />\n                    <Menu.Item\n                        name='register'\n                        active={activeItem === 'register'}\n                        onClick={handleItemClick}\n                        as={Link}\n                        to=\"/register\"\n                    />\n                </Menu.Menu>\n            </Menu>\n        )\n\n    return menuBar\n\n}\n\nexport default MenuBar","import gql from 'graphql-tag';\n\nexport const FETCH_POSTS_QUERY = gql`\n  {\n    getPosts {\n      id\n      title\n      body\n      tags\n      createdAt\n      username\n      likeCount\n      likes {\n        username\n      }\n      commentCount\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n    }\n  }\n`;","import { Popup } from 'semantic-ui-react';\nimport React from 'react';\n\nfunction MyPopup({ content, children }) {\n  return <Popup inverted content={content} trigger={children} />;\n}\n\nexport default MyPopup;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Button, Label, Icon } from 'semantic-ui-react';\n\nimport MyPopup from '../utils/MyPopup';\n\nfunction LikeButton({ user, post: { id, likeCount, likes } }) {\n    const [liked, setLiked] = useState(false);\n\n    useEffect(() => {\n        if (user && likes.find((like) => like.username === user.username)) {\n            setLiked(true);\n        } else setLiked(false);\n    }, [user, likes]);\n\n    const [likePost] = useMutation(LIKE_POST_MUTATION, {\n        variables: { postID: id },\n        onError(error){\n            console.log(\"[Like Error]: \", error)\n        }\n    });\n\n    const likeButton = user ? (\n        liked ? (\n            <Button size=\"small\" color=\"red\">\n                <Icon name=\"heart\" />\n            </Button>\n        ) : (\n                <Button size=\"small\" color=\"red\" basic>\n                    <Icon name=\"heart\" />\n                </Button>\n            )\n    ) : (\n            <Button size=\"small\"  as={Link} to=\"/login\" color=\"red\" basic>\n                <Icon name=\"heart\" />\n            </Button>\n        );\n\n    return (\n        <Button as=\"div\" labelPosition=\"right\" onClick={likePost}>\n            <MyPopup content={liked ? 'Unlike' : 'Like'}>{likeButton}</MyPopup>\n            <Label basic color=\"red\" pointing=\"left\">\n                {likeCount}\n            </Label>\n        </Button>\n    );\n}\n\n// automatic update like in post (in client)\nconst LIKE_POST_MUTATION = gql`\n  mutation likePost($postID: ID!) {\n    likePost(postID: $postID) {\n      id\n      likes {\n        id\n        username\n      }\n      likeCount\n    }\n  }\n`;\n\nexport default LikeButton;","import React, { useState } from 'react';\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Button, Confirm, Icon } from 'semantic-ui-react';\n\nimport { FETCH_POSTS_QUERY } from '../utils/graphql';\nimport MyPopup from '../utils/MyPopup';\n\nfunction DeleteButton({ postID, commentID, callback }) {\n  const [confirmOpen, setConfirmOpen] = useState(false);\n\n  const mutation = commentID ? DELETE_COMMENT_MUTATION : DELETE_POST_MUTATION;\n\n  const [deletePostOrMutation] = useMutation(mutation, {\n    refetchQueries: [{\n      query: FETCH_POSTS_QUERY\n    }],\n    onError(err) {\n      console.log(err)\n    },\n    variables: {\n      postID,\n      commentID\n    }\n  });\n  return (\n    <>\n      <MyPopup content={commentID ? 'Delete comment' : 'Delete post'}>\n        <Button\n          as=\"div\"\n          floated=\"right\"\n          icon\n          size=\"small\"\n          onClick={() => setConfirmOpen(true)}\n        >\n          <Icon name=\"trash\" style={{ margin: 0 }} size=\"small\"/>\n        </Button>\n      </MyPopup>\n      <Confirm\n        open={confirmOpen}\n        onCancel={() => setConfirmOpen(false)}\n        onConfirm={deletePostOrMutation}\n      />\n    </>\n  );\n}\n\nconst DELETE_POST_MUTATION = gql`\n  mutation deletePost($postID: ID!) {\n    deletePost(postID: $postID)\n  }\n`;\n\nconst DELETE_COMMENT_MUTATION = gql`\n  mutation deleteComment($postID: ID!, $commentID: ID!) {\n    deleteComment(postID: $postID, commentID: $commentID) {\n      id\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n      commentCount\n    }\n  }\n`;\n\nexport default DeleteButton;","import React, { useState } from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\nimport MyPopup from '../utils/MyPopup';\n\nfunction EditButton({ postID, commentID, callback }) {\n    const [confirmOpen, setConfirmOpen] = useState(false);\n\n    return (\n        <>\n            <MyPopup content={commentID ? 'Edit comment' : 'Write Story'}>\n                <Button\n                    floated=\"right\"\n                    icon\n                    size=\"small\"\n                    onClick={() => setConfirmOpen(true)}\n                    as={Link}\n                    to={`/posts/${postID}`}\n                >\n                    <Icon name=\"pencil alternate\" style={{ margin: 0 }} size=\"small\" />\n                </Button>\n            </MyPopup>\n        </>\n    );\n}\n\n\nexport default EditButton;","import React, { useContext } from 'react';\nimport { Button, Card, Icon, Label, Image } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nimport { AuthContext } from '../context/auth';\nimport LikeButton from './LikeButton';\nimport DeleteButton from './DeleteButton';\nimport EditButton from './EditButton'\nimport MyPopup from '../utils/MyPopup';\n\nfunction PostCard({\n    post: { title, body, createdAt, id, username, likeCount, commentCount, likes, tags }\n}) {\n    const { user } = useContext(AuthContext);\n\n    return (\n        <Card color=\"blue\" fluid>\n            <Card.Content>\n                <Image\n                    floated=\"right\"\n                    size=\"mini\"\n                    src=\"https://react.semantic-ui.com/images/avatar/large/molly.png\"\n                />\n                <Card.Header as={Link} to={`/posts/${id}`}>\n                    {title}\n                </Card.Header>\n                <Card.Meta>\n                    {tags.map(tag => <Button basic content={tag} size=\"mini\" compact color=\"blue\" />)}\n                </Card.Meta>\n                <Card.Meta as={Link} to={`/posts/${id}`}>\n                    {moment(createdAt).fromNow(true)}\n                </Card.Meta>\n                <Card.Meta>{username}</Card.Meta>\n                <Card.Description >{body}</Card.Description>\n            </Card.Content>\n            <Card.Content extra>\n                <LikeButton user={user} post={{ id, likes, likeCount }} />\n                <MyPopup content=\"Comment on post\">\n                    <Button labelPosition=\"right\" as={Link} to={`/posts/${id}`}>\n                        <Button color=\"blue\" basic>\n                            <Icon name=\"comments\" />\n                        </Button>\n                        <Label basic color=\"blue\" pointing=\"left\">\n                            {commentCount}\n                        </Label>\n                    </Button>\n                </MyPopup>\n                {user && user.username === username && <DeleteButton postID={id} />}\n                {user && user.username === username && <EditButton postID={id} />}\n            </Card.Content>\n        </Card>\n    );\n}\n\nexport default PostCard;","import { useState } from 'react'\n\nexport const useForm = (callback, initialState = {}) => {\n    const [values, setValues] = useState(initialState)\n\n    const onChange = (event, name, value) => {\n        setValues({ ...values, [name]: value })\n    }\n\n    const onSubmit = (event) => {\n        event.preventDefault()\n        callback()\n    }\n\n    return {\n        onChange,\n        onSubmit,\n        values\n    }\n}","import React, { useState } from 'react';\nimport { Button, Divider, Dropdown, Form, Header } from 'semantic-ui-react';\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/react-hooks';\n\nimport { useForm } from '../utils/hooks';\nimport { FETCH_POSTS_QUERY } from '../utils/graphql';\n\nfunction PostForm() {\n    const { values, onChange, onSubmit } = useForm(createPostCallback, {\n        title: '',\n        body: '',\n        tags: []\n    });\n\n    const [options, setOptions] = useState(\n        [\n            { key: 'DB', text: 'DB', value: 'DB' },\n            { key: 'DEV', text: 'DEV', value: 'DEV' },\n            { key: 'BLOCKCHAIN', text: 'BLOCKCHAIN', value: 'BLOCKCHAIN' },\n            { key: 'WEB', text: 'WEB', value: 'WEB' },\n            { key: 'MOBILE', text: 'MOBILE', value: 'MOBILE' },\n        ]\n    )\n    const handleAddition = (e, { value }) => {\n        setOptions([...options, { text: value, value }])\n    }\n\n    const [createPost, { error }] = useMutation(CREATE_POST_MUTATION, {\n        refetchQueries: [{\n            query: FETCH_POSTS_QUERY\n        }],\n        onError(err) {\n            console.log(err)\n        },\n        onCompleted() {\n            values.title = \"\"\n            values.body = \"\"\n            values.tag = []\n        },\n        variables: values,\n    });\n\n    function createPostCallback() {\n        createPost();\n    }\n\n\n    return (\n        <>\n            <Form onSubmit={onSubmit}>\n                <Header as='h2'>Create post</Header>\n                <Form.Field>\n                    <Form.Input\n                        placeholder=\"Title\"\n                        name=\"title\"\n                        onChange={(e, { value }) => onChange(e, \"title\", value)}\n                        value={values.title}\n                        error={error ? true : false}\n                    />\n                    <Form.TextArea\n                        placeholder=\"Detail\"\n                        name=\"body\"\n                        onChange={(e, { value }) => onChange(e, \"body\", value)}\n                        value={values.body}\n                        error={error ? true : false}\n                    />\n                    <Dropdown\n                        options={options}\n                        placeholder='Tags'\n                        name='tags'\n                        search\n                        selection\n                        fluid\n                        multiple\n                        allowAdditions\n                        value={values.tags}\n                        onAddItem={handleAddition}\n                        onChange={(e, { value }) => onChange(e, \"tags\", value)}\n                    />\n                    <Divider hidden />\n                    <Button compact type=\"submit\" color=\"blue\">\n                        Submit\n                    </Button>\n                </Form.Field>\n            </Form>\n            {error && (\n                <div className=\"ui error message\" style={{ marginBottom: 20 }}>\n                    <ul className=\"list\">\n                        <li>{error.graphQLErrors[0].message}</li>\n                    </ul>\n                </div>\n            )}\n        </>\n    );\n}\n\nconst CREATE_POST_MUTATION = gql`\n  mutation createPost($title: String!, $body: String!, $tags:[String]!) {\n    createPost(title: $title, body:$body, tags:$tags) {\n      id\n      title\n      body\n      story\n      tags\n      createdAt\n      username\n      likes {\n        id\n        username\n        createdAt\n      }\n      likeCount\n      comments {\n        id\n        body\n        username\n        createdAt\n      }\n      commentCount\n    }\n  }\n`;\n\nexport default PostForm;","import { Image, Container, Header, Divider } from 'semantic-ui-react'\nimport '../sass/home.scss'\n\nconst AuthorCard = () => {\n    const detail = {\n        header: 'Dolp Blog',\n        description: 'ยินดีต้อนรับครับผม นี่เป็นบล็อคส่วนตัวของผมเอง ถ้ามีตรงไหนแนะนำสามารถคอมเม้น หรือทักมาคุยได้ครับ',\n        update: '22/JAN/2021'\n    }\n\n    return (\n        // <Card centered color=\"blue\">\n        //     <Image className=\"author-image\" src='https://pingbox.s3-ap-southeast-1.amazonaws.com/pictures/dolphin.png' size='medium' circular />\n        //     <Card.Content>\n        //         <Card.Header>{detail.header}</Card.Header>\n        //         <Card.Description>{detail.description}</Card.Description>\n        //     </Card.Content>\n        // </Card>\n        <Container textAlign=\"center\">\n            <Image className=\"author-image\" src='https://pingbox.s3-ap-southeast-1.amazonaws.com/pictures/dolphin.png' size='medium' centered />\n            <Header>\n                {detail.header}\n            </Header>\n            <p>{detail.description}</p>\n            <Divider />\n            <p>update:  {detail.update}</p>\n        </Container>\n    )\n}\n\nexport default AuthorCard","import React, { useContext } from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { Grid, Header, Segment, Transition, Loader } from 'semantic-ui-react'\n\nimport { FETCH_POSTS_QUERY } from '../utils/graphql';\nimport PostCard from '../components/PostCard'\nimport PostForm from '../components/PostForm'\nimport { AuthContext } from '../context/auth'\n\nimport '../sass/home.scss'\nimport AuthorCard from '../components/AuthorCard';\n\nfunction Home() {\n    const { user } = useContext(AuthContext)\n    const { loading, data } = useQuery(FETCH_POSTS_QUERY);\n    return (\n        <Grid style={{ marginTop: '3em' }} relaxed stackable reversed='mobile' >\n            <Grid.Column width={12}>\n                {(user && user.username === \"ping\" )&& (\n                    <Segment>\n                        <PostForm />\n                    </Segment>\n                )}\n                <Grid.Row className=\"page-title\">\n                    <Header as='h2'>Recent Posts</Header>\n                </Grid.Row>\n                <Grid columns={3}>\n                    <Grid.Row stretched stackable columns={2}>\n                        {loading ? (\n                            <Loader active inline='centered' content='Loading... This may take a few seconds' />\n                        ) : (\n                                <Transition.Group>\n                                    {data.getPosts &&\n                                        data.getPosts.map((post) => (\n                                            <Grid.Column computer={8} mobile={16} key={post.id} style={{ marginBottom: 20 }}>\n                                                <PostCard post={post} />\n                                            </Grid.Column>\n                                        ))}\n                                </Transition.Group>\n                            )}\n                    </Grid.Row>\n                </Grid>\n            </Grid.Column>\n            <Grid.Column width={4}>\n                <AuthorCard />\n            </Grid.Column>\n        </Grid>\n    );\n}\n\nexport default Home","import React, { useContext, useState } from 'react'\nimport { Button, Form, Header, Segment } from 'semantic-ui-react'\nimport { useMutation } from '@apollo/react-hooks'\nimport gql from 'graphql-tag'\n\nimport { useForm } from '../utils/hooks'\nimport { AuthContext } from '../context/auth'\n\nfunction Register(props) {\n    const context = useContext(AuthContext)\n    const [errors, setErrors] = useState({})\n\n    // take initial state and callback \n    const { onChange, onSubmit, values } = useForm(registerUser, {\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: ''\n    })\n\n    const [addUser, { loading }] = useMutation(REGISTER_USER, {\n        // destructor result จาก mutation ปกติจะส่ง data มา และมีชื่อ function อยู่ข้างใน\n        update(_, { data: { register: userData } }) {\n            context.login(userData)\n            props.history.push('/')\n        },\n        onError(err) {\n            setErrors(err.graphQLErrors[0].extensions.exception.errors)\n        },\n        variables: values\n    })\n\n    // การเติม function แบบนี้\n    //  ทำให้ adduser ใน useForm สามารถ recognize fx ได้ในตอนเริม\n    function registerUser() {\n        addUser()\n    }\n\n    return (\n        <div className='form-container'>\n            <Form onSubmit={onSubmit} noValidate className={loading ? 'loading' : ''}>\n                <Header as=\"h2\" color='blue' textAlign='center'>Register</Header>\n                <Segment>\n                    <Form.Input\n                        label=\"Username\"\n                        placeholder=\"Username...\"\n                        name=\"username\"\n                        type=\"text\"\n                        value={values.username}\n                        error={errors.username ? true : false}\n                        onChange={onChange}\n                    />\n                    <Form.Input\n                        label=\"Email\"\n                        placeholder=\"Email...\"\n                        name=\"email\"\n                        type=\"email\"\n                        value={values.email}\n                        error={errors.email ? true : false}\n                        onChange={onChange}\n                    />\n                    <Form.Input\n                        label=\"Password\"\n                        placeholder=\"Password...\"\n                        name=\"password\"\n                        type=\"password\"\n                        value={values.password}\n                        error={errors.password ? true : false}\n                        onChange={onChange}\n                    />\n                    <Form.Input\n                        label=\"Confirm Password\"\n                        placeholder=\"Confirm Password...\"\n                        name=\"confirmPassword\"\n                        type=\"password\"\n                        value={values.confirmPassword}\n                        error={errors.confirmPassword ? true : false}\n                        onChange={onChange}\n                    />\n                    <Button type=\"submit\" fluid color=\"blue\">\n                        Register\n                </Button>\n                </Segment>\n            </Form>\n            {Object.keys(errors).length > 0 && (\n                <div className=\"ui error message\">\n                    <ul className=\"list\">\n                        {Object.values(errors).map((value) => (\n                            <li key={value}>\n                                {value}\n                            </li>\n                        ))}\n                    </ul>\n                </div>)}\n        </div>\n    )\n}\n\nconst REGISTER_USER = gql`\n    mutation register(\n        $username: String!\n        $email: String!\n        $password: String!\n        $confirmPassword: String!\n    ){\n        register(\n            registerInput:{\n                username: $username\n                email:$email\n                password:$password\n                confirmPassword:$confirmPassword\n            }\n        ){\n            id email username createdAt token\n        }\n    }\n`;\n\nexport default Register","import React, { useContext, useState } from 'react';\nimport { Button, Message, Segment, Image, Header, Form, Grid } from 'semantic-ui-react';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\n\n// import { AuthContext } from '../context/auth';\nimport { useForm } from '../utils/hooks';\n\nimport { AuthContext } from '../context/auth'\n\nfunction Login(props) {\n    const context = useContext(AuthContext);\n    const [errors, setErrors] = useState({});\n\n    const { onChange, onSubmit, values } = useForm(loginUserCallback, {\n        username: '',\n        password: ''\n    });\n\n    const [loginUser, { loading }] = useMutation(LOGIN_USER, {\n        update(_, { data: { login: userData } }) {\n            context.login(userData);\n            props.history.push('/');\n        },\n        onError(err) {\n            setErrors(err.graphQLErrors[0].extensions.exception.errors);\n        },\n        variables: values\n    });\n\n    function loginUserCallback() {\n        loginUser();\n    }\n\n    return (\n        <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Form size='large' onSubmit={onSubmit} noValidate className={loading ? 'loading' : ''}>\n                    <Header as='h2' color='blue' textAlign='center'>\n                        <Image src='https://www.flaticon.com/svg/static/icons/svg/3009/3009728.svg' /> Log-in to your account\n                    </Header>\n                    <Segment stacked>\n                        <Form.Input\n                            placeholder=\"Username..\"\n                            name=\"username\"\n                            type=\"text\"\n                            icon='user'\n                            iconPosition='left'\n                            value={values.username}\n                            error={errors.username ? true : false}\n                            onChange={(e, { value }) => onChange(e, 'username', value)}\n                        />\n                        <Form.Input\n                            placeholder=\"Password..\"\n                            name=\"password\"\n                            type=\"password\"\n                            icon='lock'\n                            iconPosition='left'\n                            value={values.password}\n                            error={errors.password ? true : false}\n                            onChange={(e, { value }) => onChange(e, 'password', value)}\n                        />\n                        <Button type=\"submit\" fluid color=\"blue\">Login</Button>\n                    </Segment>\n                </Form>\n                {Object.keys(errors).length > 0 && (\n                    <div className=\"ui error message\">\n                        <ul className=\"list\">\n                            {Object.values(errors).map((value) => (\n                                <li key={value}>{value}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )}\n                <Message>\n                    New to us? <a href='/register'>  Register</a>\n                </Message>\n            </Grid.Column>\n        </Grid>\n    );\n}\n\nconst LOGIN_USER = gql`\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      id\n      email\n      username\n      createdAt\n      token\n    }\n  }\n`;\n\nexport default Login;","import React from 'react'\nimport { Container, Card, Divider, List, Icon, Rating } from 'semantic-ui-react'\nimport '../sass/contact.scss'\n\nfunction Contact() {\n    return (\n        <Container>\n            <Card.Group centered>\n                <Card>\n                    <Card.Content textAlign=\"center\">\n                        <Card.Header>AUTHOR</Card.Header>\n                        <Divider />\n                        <Card.Description>------  PING  ------</Card.Description>\n                        <Divider />\n                        <Card.Description>Chulalongkorn University</Card.Description>\n                        <Divider />\n                        <Card.Description>\n                            <Icon name=\"mail\" />ping.waragon@gmail.com</Card.Description>\n                        <br />\n                        <Card.Description>\n                            <Icon name=\"phone\" />+66-88-585-1415</Card.Description>\n                        <br />\n                        <Card.Description href=\"https://github.com/dolphinep\">\n                            <Icon name=\"github\" />https://github.com/dolphinep</Card.Description>\n                        <br />\n                        <br />\n                        <Card.Description href=\"https://medium.com/@ping.waragon\">\n                            <Icon name=\"medium\" />https://medium.com/@ping.waragon</Card.Description>\n                    </Card.Content>\n                </Card>\n                <Card>\n                    <Card.Content textAlign=\"center\">\n                        <Card.Header>INTEREST</Card.Header>\n                        <Divider />\n                        <Card.Description>INTERESTED IN ALL TECHNOLOGY ON/OUT THE EARTH</Card.Description>\n                        <Divider />\n                        <Card.Description>\n                            <List >\n                                <List.Item>\n                                    Full-Stack Developer</List.Item>\n                                <Icon name=\"heart outline\" />\n                                <List.Item>\n                                    BlockChain Developer</List.Item>\n                                <Icon name=\"heart outline\" />\n                                <List.Item>\n                                    Machine Learning</List.Item>\n                                <Icon name=\"heart outline\" />\n                                <List.Item>\n                                    Technology Consult</List.Item>\n                            </List>\n                        </Card.Description>\n                    </Card.Content>\n                </Card>\n                <Card>\n                    <Card.Content textAlign=\"center\">\n                        <Card.Header>SKILL</Card.Header>\n                        <Divider />\n                        <Card.Description>Base on internship, classroom and self study (max 5)</Card.Description>\n                        <Divider />\n                        <Card.Description textAlign=\"left\">\n                            <List >\n                                <List.Item>\n                                    <Icon name=\"thumbs up outline\" />\n                                    <List.Content>Front-End\n                                        <List.List>\n                                            <List.Item>\n                                                React(4)\n                                                <Rating className=\"skill\" maxRating={5} defaultRating={4} icon='star' />\n                                            </List.Item>\n                                            <List.Item>\n                                                CSS/SCSS(2)\n                                                <Rating className=\"skill\" maxRating={5} defaultRating={2} icon='star' />\n                                            </List.Item>\n                                        </List.List>\n                                    </List.Content>\n                                </List.Item>\n                                <List.Item>\n                                    <Icon name=\"thumbs up outline\" />\n                                    <List.Content>Back-End\n                                        <List.List>\n                                            <List.Item>\n                                                Golang(4)\n                                                <Rating className=\"skill\" maxRating={5} defaultRating={4} icon='star' />\n                                            </List.Item>\n                                            <List.Item>\n                                                NodeJS(3)\n                                                <Rating className=\"skill\" maxRating={5} defaultRating={3} icon='star' />\n                                            </List.Item>\n                                        </List.List>\n                                    </List.Content>\n                                </List.Item>\n                                <List.Item>\n                                    <Icon name=\"thumbs up outline\" />\n                                    <List.Content>Database\n                                        <List.List>\n                                            <List.Item>\n                                                MongoDB(4)\n                                                <Rating className=\"skill\" maxRating={5} defaultRating={4} icon='star' />\n                                            </List.Item>\n                                            <List.Item>\n                                                Postgresql(4)\n                                                <Rating className=\"skill\" maxRating={5} defaultRating={4} icon='star' />\n                                            </List.Item>\n                                        </List.List>\n                                    </List.Content>\n                                </List.Item>\n                                <List.Item>\n                                    <Icon name=\"thumbs up outline\" />\n                                    <List.Content>OTHER SKILL\n                                        <List.List>\n                                            <List.Item>\n                                                <Icon name=\"star\" />\n                                                CLOUD - AWS/FIREBASE\n                                          </List.Item>\n                                            <List.Item>\n                                                <Icon name=\"star\" />\n                                                GIT\n                                           </List.Item>\n                                            <List.Item>\n                                                <Icon name=\"star outline\" />\n                                                PYTHON, JAVA, C++\n                                           </List.Item>\n                                            <List.Item>\n                                                <Icon name=\"star\" />\n                                                GRAPHQL\n                                           </List.Item>\n                                        </List.List>\n                                    </List.Content>\n                                </List.Item>\n                            </List>\n                        </Card.Description>\n                    </Card.Content>\n                </Card>\n            </Card.Group>\n        </Container>\n    )\n}\n\nexport default Contact\n\n\n","import React, { useEffect, useState } from 'react'\nimport { Container, Grid } from 'semantic-ui-react'\nimport '../sass/timer.scss'\nlet t = new Date()\n\nconst Timer = () => {\n    const [time, setTime] = useState(t)\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setTime(new Date())\n        }, 1000)\n        return () => clearInterval(interval);\n    }, [])\n    return (\n        <Container>\n            <Grid columns={3} textAlign=\"center\" divided>\n                <Grid.Row className=\"time\">\n                    <Grid.Column largeScreen=\"3\">\n                        {time.getHours() % 12}\n                    </Grid.Column>\n                    <Grid.Column largeScreen=\"3\">\n                        {time.getMinutes()}\n                    </Grid.Column>\n                    <Grid.Column largeScreen=\"3\">\n                        {time.getSeconds()}\n                    </Grid.Column>\n                    {time.getHours() / 12 < 1 ? 'AM' : 'PM'}\n                </Grid.Row>\n            </Grid>\n        </Container>\n    )\n}\n\nexport default Timer\n","// if login แล้วต้องไม่สามารถเข้า register/login route ได้\nimport React, { useContext } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport { AuthContext } from '../context/auth'\n\nfunction AuthRoute({ component: Component, ...rest }) {\n    const { user } = useContext(AuthContext)\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                user ? <Redirect to=\"/\" /> : <Component {...props} />\n            }\n        />\n    )\n}\n\nexport default AuthRoute","import React from 'react';\nimport ReactQuill, { Quill } from 'react-quill';\nimport \"react-quill/dist/quill.snow.css\";\nimport { Icon } from 'semantic-ui-react'\nimport axios from 'axios'\n\nconst __ISMSIE__ = navigator.userAgent.match(/Trident/i) ? true : false;\n\n// Quill.register('modules/clipboard', PlainClipboard, true);\n\nconst QuillClipboard = Quill.import('modules/clipboard');\n\nclass Clipboard extends QuillClipboard {\n\n    getMetaTagElements = (stringContent) => {\n        const el = document.createElement('div');\n        el.innerHTML = stringContent;\n        return el.getElementsByTagName('meta');\n    };\n\n    async onPaste(e) {\n        let clipboardData = e.clipboardData || window.clipboardData;\n        let pastedData = await clipboardData.getData('Text');\n\n        const urlMatches = pastedData.match(/\\b(http|https)?:\\/\\/\\S+/gi) || [];\n        if (urlMatches.length > 0) {\n            e.preventDefault();\n            urlMatches.forEach(link => {\n                axios.get(link)\n                    .then(payload => {\n                        let title, image, url;\n                        for (let node of this.getMetaTagElements(payload)) {\n                            if (node.getAttribute(\"property\") === \"og:title\") {\n                                title = node.getAttribute(\"content\");\n                            }\n                            if (node.getAttribute(\"property\") === \"og:image\") {\n                                image = node.getAttribute(\"content\");\n                            }\n                            if (node.getAttribute(\"property\") === \"og:url\") {\n                                url = node.getAttribute(\"content\");\n                            }\n                        }\n\n                        const rendered = `<a href=${url} target=\"_blank\"><div><img src=${image} alt=${title} width=\"20%\"/><span>${title}</span></div></a>`;\n\n                        let range = this.quill.getSelection();\n                        let position = range ? range.index : 0;\n                        this.quill.pasteHTML(position, rendered, 'silent');\n                        this.quill.setSelection(position + rendered.length);\n                    })\n                    .catch(error => console.error(error));\n            });\n\n        } else {\n            super.onPaste(e);\n        }\n    }\n\n}\nQuill.register('modules/clipboard', Clipboard, true);\n\nconst BlockEmbed = Quill.import('blots/block/embed');\n\nclass ImageBlot extends BlockEmbed {\n\n    static create(value) {\n        const imgTag = super.create();\n        imgTag.setAttribute('src', value.src);\n        imgTag.setAttribute('alt', value.alt);\n        imgTag.setAttribute('width', '100%');\n        return imgTag;\n    }\n\n    static value(node) {\n        return { src: node.getAttribute('src'), alt: node.getAttribute('alt') };\n    }\n\n}\n\nImageBlot.blotName = 'image';\nImageBlot.tagName = 'img';\nQuill.register(ImageBlot);\n\nclass VideoBlot extends BlockEmbed {\n\n    static create(value) {\n        if (value && value.src) {\n            const videoTag = super.create();\n            videoTag.setAttribute('src', value.src);\n            videoTag.setAttribute('title', value.title);\n            videoTag.setAttribute('width', '100%');\n            videoTag.setAttribute('controls', '');\n\n            return videoTag;\n        } else {\n            const iframeTag = document.createElement('iframe');\n            iframeTag.setAttribute('src', value);\n            iframeTag.setAttribute('frameborder', '0');\n            iframeTag.setAttribute('allowfullscreen', true);\n            iframeTag.setAttribute('width', '100%');\n            return iframeTag;\n        }\n    }\n\n    static value(node) {\n        if (node.getAttribute('title')) {\n            return { src: node.getAttribute('src'), alt: node.getAttribute('title') };\n        } else {\n            return node.getAttribute('src');\n        }\n        // return { src: node.getAttribute('src'), alt: node.getAttribute('title') };\n    }\n\n}\n\nVideoBlot.blotName = 'video';\nVideoBlot.tagName = 'video';\nQuill.register(VideoBlot);\n\nclass FileBlot extends BlockEmbed {\n\n    static create(value) {\n        const prefixTag = document.createElement('span');\n        prefixTag.innerText = \"첨부파일 - \";\n\n        const bTag = document.createElement('b');\n        //위에 첨부파일 글자 옆에  파일 이름이 b 태그를 사용해서 나온다.\n        bTag.innerText = value;\n\n        const linkTag = document.createElement('a');\n        linkTag.setAttribute('href', value);\n        linkTag.setAttribute(\"target\", \"_blank\");\n        linkTag.setAttribute(\"className\", \"file-link-inner-post\");\n        linkTag.appendChild(bTag);\n        //linkTag 이런식으로 나온다 <a href=\"btn_editPic@3x.png\" target=\"_blank\" classname=\"file-link-inner-post\"><b>btn_editPic@3x.png</b></a>\n\n        const node = super.create();\n        node.appendChild(prefixTag);\n        node.appendChild(linkTag);\n\n        return node;\n    }\n\n    static value(node) {\n        const linkTag = node.querySelector('a');\n        return linkTag.getAttribute('href');\n    }\n\n}\n\nFileBlot.blotName = 'file';\nFileBlot.tagName = 'p';\nFileBlot.className = 'file-inner-post';\nQuill.register(FileBlot);\n\nclass PollBlot extends BlockEmbed {\n\n    static create(value) {\n        const prefixTag = document.createElement('span');\n        prefixTag.innerText = \"투표 - \";\n\n        const bTag = document.createElement('b');\n        bTag.innerText = value.title;\n\n        const node = super.create();\n        node.setAttribute('id', value.id);\n        node.appendChild(prefixTag);\n        node.appendChild(bTag);\n\n        return node;\n    }\n\n    static value(node) {\n        const id = node.getAttribute('id');\n        const bTag = node.querySelector('b');\n        const title = bTag.innerText;\n        return { id, title };\n    }\n\n}\n\nPollBlot.blotName = 'poll';\nPollBlot.tagName = 'p';\nPollBlot.className = 'poll-inner-post';\nQuill.register(PollBlot);\n\nclass QuillEditor extends React.Component {\n\n    bandId;\n    placeholder;\n    onEditorChange;\n    onFilesChange;\n    onPollsChange;\n    _isMounted;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            editorHtml: __ISMSIE__ ? \"<p>&nbsp;</p>\" : props.old,\n            files: [],\n        };\n\n        this.reactQuillRef = null;\n\n        this.inputOpenImageRef = React.createRef();\n        this.inputOpenVideoRef = React.createRef();\n        this.inputOpenFileRef = React.createRef();\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    handleChange = (html) => {\n        console.log('html', html)\n        // https://youtu.be/BbR-QCoKngE\n        // https://www.youtube.com/embed/ZwKhufmMxko\n        // https://tv.naver.com/v/9176888\n        // renderToStaticMarkup(ReactHtmlParser(html, options));\n\n        this.setState({\n            editorHtml: html\n        }, () => {\n            this.props.onEditorChange(this.state.editorHtml);\n        });\n    };\n\n    // I V F P들을  눌렀을떄 insertImage: this.imageHandler로 가서  거기서 inputOpenImageRef를 클릭 시킨다. \n    imageHandler = () => {\n        this.inputOpenImageRef.current.click();\n    };\n\n    videoHandler = () => {\n        this.inputOpenVideoRef.current.click();\n    };\n\n    fileHandler = () => {\n        this.inputOpenFileRef.current.click();\n    };\n\n    insertImage = async (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\n            const file = e.currentTarget.files[0];\n\n            let formData = new FormData();\n            const config = {\n                header: { 'content-type': 'multipart/form-data' }\n            }\n            formData.append(\"image\", file);\n            axios.post(`https://dolp-server.herokuapp.com/image-upload`, formData, config)\n                .then(response => {\n                    if (response.status === 200) {\n                        const quill = this.reactQuillRef.getEditor();\n                        quill.focus();\n\n                        let range = quill.getSelection();\n                        let position = range ? range.index : 0;\n\n                        quill.insertEmbed(position, \"image\", { src: response.data.url });\n                        quill.setSelection(position + 1);\n\n                        if (this._isMounted) {\n                            this.setState({\n                                files: [...this.state.files, file]\n                            }, () => { this.props.onFilesChange(this.state.files) });\n                        }\n                    } else {\n                        return alert('failed to upload file')\n                    }\n                })\n        }\n    };\n\n    insertVideo = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\n            const file = e.currentTarget.files[0];\n\n            let formData = new FormData();\n            // const config = {\n            //     header: { 'content-type': 'multipart/form-data' }\n            // }\n            formData.append(\"file\", file);\n\n            // axios.post('/api/blog/uploadfiles', formData, config)\n            //     .then(response => {\n            //         if (response.data.success) {\n\n            //             const quill = this.reactQuillRef.getEditor();\n            //             quill.focus();\n\n            //             let range = quill.getSelection();\n            //             let position = range ? range.index : 0;\n            //             quill.insertEmbed(position, \"video\", { src: \"http://localhost:5000/\" + response.data.url, title: response.data.fileName });\n            //             quill.setSelection(position + 1);\n\n            //             if (this._isMounted) {\n            //                 this.setState({\n            //                     files: [...this.state.files, file]\n            //                 }, () => { this.props.onFilesChange(this.state.files) });\n            //             }\n            //         } else {\n            //             return alert('failed to upload file')\n            //         }\n            //     })\n        }\n    }\n\n    insertFile = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.currentTarget && e.currentTarget.files && e.currentTarget.files.length > 0) {\n            const file = e.currentTarget.files[0];\n\n            let formData = new FormData();\n            // const config = {\n            //     header: { 'content-type': 'multipart/form-data' }\n            // }\n            formData.append(\"file\", file);\n\n            // axios.post('/api/blog/uploadfiles', formData, config)\n            //     .then(response => {\n            //         if (response.data.success) {\n\n            //             const quill = this.reactQuillRef.getEditor();\n            //             quill.focus();\n\n            //             let range = quill.getSelection();\n            //             let position = range ? range.index : 0;\n            //             quill.insertEmbed(position, \"file\", response.data.fileName);\n            //             quill.setSelection(position + 1);\n\n            //             if (this._isMounted) {\n            //                 this.setState({\n            //                     files: [...this.state.files, file]\n            //                 }, () => { this.props.onFilesChange(this.state.files) });\n            //             }\n            //         };\n            //     })\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                <div id=\"toolbar\">\n                    <select className=\"ql-header\" defaultValue={\"\"} onChange={e => e.persist()}>\n                        <option value=\"1\" />\n                        <option value=\"2\" />\n                        <option value=\"\" />\n                    </select>\n                    <button className=\"ql-bold\" />\n                    <button className=\"ql-italic\" />\n                    <button className=\"ql-underline\" />\n                    <button className=\"ql-strike\" />\n                    <button className=\"ql-list\" value=\"ordered\" />\n                    <button className=\"ql-list\" value=\"bullet\" />\n                    <button className=\"ql-indent\" value=\"-1\" />\n                    <button className=\"ql-indent\" value=\"+1\" />\n                    <button className=\"ql-insertImage\">\n                        <Icon name=\"picture\" />\n                    </button>\n                    {/* <button className=\"ql-insertVideo\">\n                        <Icon name=\"video\" />\n                    </button> */}\n                    {/* <button className=\"ql-insertFile\">\n                        F\n                    </button> */}\n                    <button className=\"ql-link\" />\n                    <button className=\"ql-code-block\" />\n                    <button className=\"ql-video\" />\n                    <button className=\"ql-blockquote\" />\n                    <button className=\"ql-clean\" />\n\n\n\n                </div>\n                <ReactQuill\n                    ref={(el) => { this.reactQuillRef = el }}\n                    theme={'snow'}\n                    onChange={this.handleChange}\n                    modules={this.modules}\n                    formats={this.formats}\n                    value={this.state.editorHtml}\n                    placeholder={this.props.placeholder}\n                />\n                <input type=\"file\" accept=\"image/*\" ref={this.inputOpenImageRef} style={{ display: \"none\" }} onChange={this.insertImage} />\n                {/* <input type=\"file\" accept=\"video/*\" ref={this.inputOpenVideoRef} style={{ display: \"none\" }} onChange={this.insertVideo} /> */}\n                {/* <input type=\"file\" accept=\"*\" ref={this.inputOpenFileRef} style={{ display: \"none\" }} onChange={this.insertFile} /> */}\n            </div>\n        )\n    }\n\n    modules = {\n        syntax: true,\n        toolbar: {\n            container: \"#toolbar\",\n            //id =\"toorbar\"는  그 위에 B I U S I V F P 이거 있는 곳이다. \n            handlers: {\n                insertImage: this.imageHandler,\n                insertVideo: this.videoHandler,\n                insertFile: this.fileHandler,\n                insertPoll: this.pollHandler,\n            }\n        },\n\n    };\n\n    formats = [\n        'header',\n        'bold', 'italic', 'underline', 'strike',\n        'list', 'bullet', 'indent',      \n        'image', 'video', 'file', 'link', \"code-block\", \"video\", \"blockquote\", \"clean\"\n    ];\n}\n\nexport default QuillEditor;","import gql from 'graphql-tag'\nimport React, { useContext, useState, useRef } from 'react'\nimport { useMutation, useQuery } from '@apollo/react-hooks'\nimport { Button, Header, Card, Comment, Grid, Image, Icon, Label, Form, Divider } from 'semantic-ui-react'\nimport moment from 'moment'\nimport { AuthContext } from '../context/auth'\nimport LikeButton from '../components/LikeButton'\nimport DeleteButton from '../components/DeleteButton'\nimport QuillEditor from '../components/editor/QuillEditor'\nimport parse from 'html-react-parser';\n\n\nfunction SinglePost(props) {\n    const postID = props.match.params.postID\n    const [title, setTitle] = useState(\"\")\n    const [body, setBody] = useState(\"\")\n    const [story, setStory] = useState(\"\")\n    const [comment, setComment] = useState(\"\")\n    const [editing, setEditing] = useState(false)\n    const { user } = useContext(AuthContext)\n\n\n    const [files, setFiles] = useState([])\n\n    const onEditorChange = (value) => {\n        setStory(value)\n    }\n\n    const onFilesChange = (files) => {\n        setFiles(files)\n    }\n\n    const commentInputRef = useRef(null)\n    const [submitComment] = useMutation(SUBMIT_COMMENT_MUTATION, {\n        update() {\n            setComment('');\n            commentInputRef.current.blur();\n        },\n        variables: {\n            postID,\n            body: comment\n        }\n    });\n\n    const [submitEdit] = useMutation(UPDATE_POST_MUTATION, {\n        update() {\n            setEditing(false)\n        },\n        variables: {\n            postID,\n            title,\n            body,\n            story\n        }\n    })\n\n    const { data: { getPost } = {} } = useQuery(FETCH_POST_QUERY, {\n        variables: {\n            postID\n        },\n        onCompleted() {\n            setTitle(getPost.title)\n            setBody(getPost.body)\n            setStory(getPost.story)\n        }\n    })\n\n    let postMarkup;\n    if (!getPost) {\n        postMarkup = <p>Loading post...</p>\n    } else {\n        const {\n            id,\n            title,\n            body,\n            tags,\n            story,\n            createdAt,\n            username,\n            comments,\n            likes,\n            likeCount,\n            commentCount\n        } = getPost;\n\n        postMarkup = (\n            <Grid stackable>\n                <Grid.Column width={3} only=\"computer\">\n                    <Image src=\"https://react.semantic-ui.com/images/avatar/large/molly.png\"\n                        size=\"small\"\n                        float=\"right\" />\n                </Grid.Column>\n                <Grid.Column width={9}>\n                    <Card fluid>\n                        <Card.Content>\n                            <Card.Header>{title}</Card.Header>\n                            <Card.Meta>\n                                {tags.map(tag => <Button basic content={tag} size=\"mini\" compact color=\"blue\" />)}\n                            </Card.Meta>\n                            <Card.Meta>{username}</Card.Meta>\n                            <Card.Meta>{moment(createdAt).fromNow()}</Card.Meta>\n                            <Card.Description>{body}</Card.Description>\n                        </Card.Content>\n                    </Card>\n                    <Card.Content extra>\n                        <LikeButton user={user} post={{ id, likeCount, likes }} />\n                        <Button\n                            as=\"div\"\n                            labelPosition=\"right\"\n                            onClick={() => console.log(\"Comment on post\")}>\n                            <Button basic color=\"blue\">\n                                <Icon name=\"comments\" />\n                            </Button>\n                            <Label basic color=\"blue\" pointing=\"left\">\n                                {commentCount}\n                            </Label>\n                        </Button>\n                        {user && user.username === username && (editing ?\n                            <Button.Group floated=\"right\" >\n                                <Button onClick={() => setEditing(!editing)}>Cancle</Button>\n                                <Button.Or />\n                                <Button color=\"teal\" onClick={submitEdit}>Save</Button>\n                            </Button.Group>\n                            :\n                            story ?\n                                <Button floated=\"right\" color=\"teal\" onClick={() => setEditing(!editing)}>Edit Story</Button>\n                                :\n                                <Button floated=\"right\" color=\"teal\" onClick={() => setEditing(!editing)}>Add Story...</Button>)}\n                    </Card.Content>\n                    <Divider hidden />\n                    {user && editing ?\n                        <QuillEditor\n                            placeholder={\"Start Posting Something\"}\n                            old={story}\n                            onEditorChange={onEditorChange}\n                            onFilesChange={onFilesChange}\n                        />\n                        :\n                        (story && parse(story))\n\n                    }\n                    <Header as='h3' dividing>Comment</Header>\n                    {comments.map(comment => (\n                        <Comment.Group fluid key={comment.id}>\n                            <Comment>\n                                <Comment.Avatar src='https://react.semantic-ui.com/images/avatar/small/matt.jpg' />\n                                <Comment.Content>\n                                    {user && user.username === comment.username && (\n                                        <DeleteButton postID={id} commentID={comment.id} />\n                                    )}\n                                    <Comment.Author>{comment.username}</Comment.Author>\n                                    <Comment.Metadata>{moment(comment.createdAt).fromNow()}</Comment.Metadata>\n                                    <Comment.Text>{comment.body}</Comment.Text>\n                                </Comment.Content>\n                            </Comment>\n                        </Comment.Group>\n                    ))}\n                    {user && (\n                        <Card fluid>\n                            <Card.Content>\n                                <p>Post a comment</p>\n                                <Form>\n                                    <div className=\"ui action input fluid\">\n                                        <input\n                                            type=\"text\"\n                                            placeholder=\"Comment..\"\n                                            name=\"comment\"\n                                            value={comment}\n                                            onChange={(event) => setComment(event.target.value)}\n                                            ref={commentInputRef}\n                                        />\n                                        <button\n                                            type=\"submit\"\n                                            className=\"ui button teal\"\n                                            disabled={comment.trim() === ''}\n                                            onClick={submitComment}>\n                                            Submit\n                                            </button>\n                                    </div>\n                                </Form>\n                            </Card.Content>\n                        </Card>\n                    )}\n                </Grid.Column>\n            </Grid>\n        )\n    }\n    return postMarkup\n}\n\nconst SUBMIT_COMMENT_MUTATION = gql`\n  mutation($postID: ID!, $body: String!) {\n    createComment(postID: $postID, body: $body) {\n      id\n      comments {\n        id\n        body\n        createdAt\n        username\n      }\n      commentCount\n    }\n  }\n`;\n\nconst FETCH_POST_QUERY = gql`\n    query($postID: ID!){\n        getPost(postID: $postID){\n            id\n            title\n            body\n            tags\n            story\n            createdAt\n            username\n            likeCount\n            likes {\n                username\n            }\n            commentCount\n            comments {\n                id\n                username\n                createdAt\n                body\n            }\n        }\n    }\n`;\n\nconst UPDATE_POST_MUTATION = gql`\n    mutation($postID: ID!,$title: String!, $body: String!, $story:String!) {\n        updatePost(postID: $postID, title: $title, body: $body, story: $story){\n            id\n            title\n            body\n            story\n            createdAt\n            username\n            likeCount\n            likes {\n                username\n            }\n            commentCount\n            comments {\n                id\n                username\n                createdAt\n                body\n            }\n        }\n    }\n`;\n\nexport default SinglePost;\n","import { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { Container } from 'semantic-ui-react'\n\nimport 'semantic-ui-css/semantic.min.css'\nimport './App.css';\n\n\nimport MenuBar from './components/MenuBar'\nimport Home from './pages/Home'\nimport Register from './pages/Register'\nimport Login from './pages/Login'\nimport Contact from './pages/Contact'\nimport Timer from './pages/Timer'\n\nimport { AuthProvider } from './context/auth'\nimport AuthRoute from './utils/AuthRouter'\n\nimport SinglePost from './pages/SinglePost'\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Container>\n          <MenuBar />\n          <Route exact path='/' component={Home} />\n          <Route exact path='/dolp-blog' component={Home} />\n          <Route exact path='/contact' component={Contact} />\n          <Route exact path='/timer' component={Timer} />\n          <AuthRoute exact path='/login' component={Login} />\n          <AuthRoute exact path='/register' component={Register} />\n          <Route exact path=\"/posts/:postID\" component={SinglePost} />\n        </Container>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react'\nimport App from './App'\nimport ApolloClient from 'apollo-client'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { createHttpLink } from 'apollo-link-http'\nimport { ApolloProvider } from '@apollo/react-hooks'\nimport { setContext } from 'apollo-link-context'\nimport { onError } from 'apollo-link-error'; //add apollo error link\n\nconst httpLink = createHttpLink({\n    uri: 'https://dolp-server.herokuapp.com/graphql'\n})\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n    if (graphQLErrors) {\n        graphQLErrors.map(({ message, locations, path }) =>\n            console.log(\n                `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n            ),\n        );\n    }\n    if (networkError) console.log(`[Network error]: ${networkError}`);\n});\n\nconst authLink = setContext(() => {\n    const token = localStorage.getItem('dolp-token')\n    return {\n        headers: {\n            Authorization: token ? `Bearer ${token}` : ''\n        }\n    }\n})\n\nconst client = new ApolloClient({\n    link: authLink.concat(httpLink).concat(errorLink),\n    cache: new InMemoryCache()\n})\n\n\nexport default (\n    <ApolloProvider client={client}>\n        <App />\n    </ApolloProvider>\n)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport ApolloProvider from './ApolloProvider'\n\nReactDOM.render(\n  <React.StrictMode>\n    {ApolloProvider}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}